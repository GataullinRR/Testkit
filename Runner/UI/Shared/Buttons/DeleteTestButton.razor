@inject PresentationService.API2.PresentationService.PresentationServiceClient PresentationService;
@inject NavigationManager Navigation
@inject IMessageService MessageService
@inject IIdentityContext Identity

@if (Identity.Identity.IsAuthentificated)
{
    <InlineButton class="text-danger" @onclick="() => goToAsync()">Delete</InlineButton>
}

@code {
    [Parameter]
    public string TestId { get; set; }

    async Task goToAsync()
    {
        var response = await PresentationService.DeleteTestAsync(new DeleteTestRequest(TestId));

        MessageService.AddMessage(response.Status.Code.ToString());

        if (response.Status.Code == StatusCode.Ok)
        {
            Navigation.NavigateTo(Pages.Index.URI);
        }
    }
}