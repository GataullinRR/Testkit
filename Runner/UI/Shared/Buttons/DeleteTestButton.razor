@inject IPresentationService PresentationService;
@inject NavigationManager Navigation
@inject IMessageService MessageService
@inject IIdentityContext Identity
@inject Browser Browser;

@if (Identity.Identity.IsAuthentificated)
{
    <InlineButton class="text-danger" @onclick="() => goToAsync()">Delete</InlineButton>
}

@code {
    [Parameter]
    public string TestNameFilter { get; set; }

    async Task goToAsync()
    {
        if (await Browser.ConfirmAsync($"Are you sure? All tests which name starts with \"{TestNameFilter}\" will be deleted. You won't be able to restore them (yet)!"))
        {
            await PresentationService.DeleteTestAsync(new DeleteTestRequest(TestNameFilter));
         
            Navigation.NavigateTo(Pages.Index.URI);
        }
        else
        {

        }
    }
}