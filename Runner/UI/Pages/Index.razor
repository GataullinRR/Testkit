@page "/"

<TestsTable Tests="_tests"></TestsTable>

@code {
    public const string URI = "/";

    IEnumerable<TestInfo> _tests;

    protected override void OnInitialized()
    {
        _tests = new TestInfo[]
        {
            new TestInfo()
            {
                Description = "Project P-1010 (validatioin test 1)",
                Author = new Author()
                {
                    Id = "Hi!",
                    EMail = "LaLa@hi.com",
                    Name = "GataullinRR",
                    Phone = "+7-919-608-48-69"
                },
                State = new AwaitingStartState(),
                LastResult = new OkResult()
                {
                    Duration = TimeSpan.FromSeconds(3.2),
                    Result = RunResult.Passed,
                    StartTime = DateTime.UtcNow.AddDays(-1)
                },
                RunPlan = new PeriodicRunPlan()
                {
                    Interval = TimeSpan.FromMinutes(1),
                    NextRun = DateTime.UtcNow.AddMinutes(1)
                },
                Target = new MicroserviceTestTarget()
                {
                    Id = "SVC1234",
                    DisplayName = "Сервис интеграции с Google",
                }
            },
            new TestInfo()
            {
                Description = "Issue #109 bugfix",
                Author = new Author()
                {
                    Id = "Hi2!",
                    EMail = "Abraham@hi.com",
                    Name = "AbrahamRL",
                    Phone = "+1-000-000-00-00"
                },
                State = new SuspendedState(),
                LastResult = new OkResult()
                {
                    Duration = TimeSpan.FromSeconds(10),
                    Result = RunResult.RunnerError,
                    StartTime = DateTime.UtcNow.AddDays(-11)
                },
                RunPlan = new ManualRunPlan()
                {

                },
                Target = new MicroserviceTestTarget()
                {
                    Id = "SVC1234",
                    DisplayName = "Сервис мониторинга статуса почтового отправления",
                }
            }
        };
    }
}
